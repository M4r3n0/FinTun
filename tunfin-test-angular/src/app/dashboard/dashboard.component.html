<div class="container">
    <div class="text-center mb-4">
        <h1>TunFin Wallet</h1>
        <p style="color: var(--text-secondary); font-size: 1.125rem;">Manage your finances with ease</p>
    </div>

    <div *ngIf="message" class="success">{{ message }}</div>
    <div *ngIf="error" class="error">{{ error }}</div>

    <!-- My Accounts Section -->
    <div class="section">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
            <h3>My Accounts</h3>
            <button (click)="createAccount()" class="secondary">+ Create Wallet</button>
        </div>

        <div *ngIf="accounts.length === 0" style="text-align: center; padding: 3rem; color: var(--text-muted);">
            <p style="font-size: 3rem; margin-bottom: 1rem;">No Accounts</p>
            <p>Create your first wallet to get started!</p>
        </div>

        <div *ngFor="let acc of accounts" class="account-card">
            <div style="display: flex; justify-content: space-between; align-items: start;">
                <div>
                    <p style="color: var(--text-muted); font-size: 0.875rem; margin-bottom: 0.5rem;">
                        {{ acc.currency }} Account
                    </p>
                    <div class="balance">{{ acc.balance | currency:acc.currency }}</div>
                    <p
                        style="color: var(--text-secondary); font-size: 0.75rem; margin-top: 0.5rem; font-family: monospace;">
                        ID: {{ acc.id }}
                    </p>
                </div>
                <div style="background: rgba(16, 185, 129, 0.1); padding: 0.5rem 1rem; border-radius: 0.5rem;">
                    <p style="color: var(--accent-green); font-weight: 600; font-size: 0.875rem;">ACTIVE</p>
                </div>
            </div>
        </div>
    </div>

    <!-- P2P Transfer Section -->
    <div class="section">
        <h3>Send Money</h3>
        <p style="color: var(--text-secondary); margin-bottom: 1.5rem;">Transfer funds to another account instantly</p>

        <div class="form-group">
            <label>From Account</label>
            <input [(ngModel)]="selectedSourceAccount" placeholder="Your Account UUID" readonly
                style="background: var(--primary-bg); cursor: not-allowed;">
            <p style="font-size: 0.75rem; color: var(--text-muted); margin-top: 0.25rem;">
                Auto-selected from your accounts above
            </p>
        </div>

        <div class="form-group">
            <label>To Account</label>
            <input [(ngModel)]="transferReceiverId" placeholder="Receiver's Account UUID">
        </div>

        <div class="form-group">
            <label>Amount (TND)</label>
            <input type="number" [(ngModel)]="transferAmount" placeholder="0.00" step="0.01" min="0">
        </div>

        <button (click)="transfer()" style="width: 100%;">
            Send Money
        </button>
    </div>

    <!-- Logout Button -->
    <div style="text-align: center; margin-top: 2rem;">
        <button (click)="logout()" class="secondary" style="padding: 0.75rem 2rem;">
            Logout
        </button>
    </div>
</div>